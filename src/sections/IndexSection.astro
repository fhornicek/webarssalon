---
import { Image } from 'astro:assets';
import SecondaryBtn from '../components/SecondaryBtn.astro';

export interface Props {
  title: string;
  description: string;
  buttonText?: string;
  buttonHref?: string;
  imageSrc: ImageMetadata;
  imageAlt: string;
  backgroundColor?: string;
  textColor?: string;
  titleSize?: 'sm' | 'md' | 'lg' | 'xl';
  reversed?: boolean;
  imageLoading?: 'lazy' | 'eager';
  imageFetchPriority?: 'high' | 'low' | 'auto';
}

const { 
  title,
  description,
  buttonText,
  buttonHref,
  imageSrc,
  imageAlt,
  backgroundColor = 'bg-beige',
  textColor = 'text-black',
  titleSize = 'lg',
  reversed = false,
  imageLoading = 'lazy',
  imageFetchPriority = 'auto'
} = Astro.props;

const titleSizeClasses = {
  sm: 'text-2xl sm:text-3xl lg:text-4xl',
  md: 'text-3xl sm:text-4xl lg:text-5xl',
  lg: 'text-4xl sm:text-5xl lg:text-6xl',
  xl: 'text-5xl sm:text-6xl lg:text-7xl'
};
---

<section class={`bg-beige py-16 lg:py-24`}>
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class={`grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 items-center ${reversed ? 'lg:grid-flow-col-dense' : ''}`}>
      
      <div class={`space-y-8 ${reversed ? 'lg:col-start-2' : ''}`}>
        <h2 class={`${titleSizeClasses[titleSize]} font-regular tracking-wide leading-tight ${textColor} font-source-serif whitespace-pre-line`}>
          {title}
        </h2>
        
        <p class={`text-lg sm:text-xl leading-relaxed ${textColor} font-light`}>
          {description}
        </p>
        
        {buttonText && buttonHref && (
          <div class="pt-4">
            <SecondaryBtn
              text={buttonText}
              href={buttonHref}
              size="md"
            />
          </div>
        )}
      </div>

      <div class={`${reversed ? 'lg:col-start-1' : ''}`}>
        <div class="relative mx-auto w-3/4">
          <Image 
            src={imageSrc}
            alt={imageAlt}
            class="w-full h-[400px] sm:h-[500px] lg:h-[600px] object-cover"
            width={800}
            height={900}
            quality={90}
            loading={imageLoading}
            fetchpriority={imageFetchPriority}
          />
        </div>
      </div>
      
    </div>
  </div>
</section>